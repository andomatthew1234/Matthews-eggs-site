<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>King Royalty Eggs</title>
    <link rel="icon" href="img/favicon.png" type="image/png">

    <style>
        /* Basic styling to make the canvas fill the page and remove scrollbars */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #87CEEB; /* A nice sky blue background */
        }

        /* The canvas will be the background */
        #fireworks-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        body.dark-mode, html.dark-mode {
            background-color: #181c22 !important;
        }
        body.dark-mode .content, html.dark-mode .content {
            color: #f3f3f3;
            text-shadow: 2px 2px 8px #000;
        }
        body.dark-mode #spam-button, html.dark-mode #spam-button {
            background-color: #222;
            color: #ff4757;
        }
        body.dark-mode #spam-button:hover, html.dark-mode #spam-button:hover {
            background-color: #333;
        }
        body.dark-mode #settings-button, html.dark-mode #settings-button {
            background: #222;
            color: #fff;
        }
        body.dark-mode #settings-button:hover, html.dark-mode #settings-button:hover {
            background: #333;
        }
        body.dark-mode footer, html.dark-mode footer {
            background: rgba(20,20,20,0.95);
            color: #eee;
        }
        body.dark-mode .tm-nav-link, html.dark-mode .tm-nav-link {
            background: #23272e !important;
        }
        body.dark-mode .product__description, html.dark-mode .product__description {
            background: rgba(30,30,30,0.7) !important;
            color: #eee;
        }
        body.dark-mode select, html.dark-mode select {
            background: #23272e;
            color: #fff;
            border: 1px solid #444;
        }
        body.dark-mode #settings-modal > div {
            background: #23272e !important;
            color: #fff !important;
        }
            z-index: 0; 
        }
        // --- Theme/Settings Modal Logic ---
        function setTheme(theme) {
            if (theme === 'dark') {
                document.body.classList.add('dark-mode');
                document.documentElement.classList.add('dark-mode');
            } else {
                document.body.classList.remove('dark-mode');
                document.documentElement.classList.remove('dark-mode');
            }
            localStorage.setItem('theme', theme);
        }
        function getTheme() {
            return localStorage.getItem('theme') || 'light';
        }
        document.addEventListener('DOMContentLoaded', function() {
            // Modal open/close
            const settingsBtn = document.getElementById('settings-button');
            const modal = document.getElementById('settings-modal');
            const closeBtn = document.getElementById('close-settings');
            const themeSelect = document.getElementById('theme-select');
            if (settingsBtn && modal && closeBtn && themeSelect) {
                settingsBtn.onclick = () => { modal.style.display = 'flex'; themeSelect.value = getTheme(); };
                closeBtn.onclick = () => { modal.style.display = 'none'; };
                modal.onclick = e => { if (e.target === modal) modal.style.display = 'none'; };
                themeSelect.onchange = e => setTheme(e.target.value);
                setTheme(getTheme());
            }
        });

        /* Style for any content you want to put on top of the chickens */
        .content {
            position: relative;
            z-index: 1;
            color: white;
            text-align: center;
            padding-top: 50px;
            font-family: 'Inter', sans-serif;
            font-size: 2rem;
            text-shadow: 2px 2px 4px #000000;
        }
        
        /* Styling for the new Spam button */
        #spam-button {
            background-color: #ff4757; /* A nice red color */
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 20px;
            text-transform: uppercase;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease, transform 0.1s ease;
        }

        #spam-button:hover {
            background-color: #ff6b81;
        }

        #spam-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);
        }
    </style>
    <!--
    Template 2097 Pop
    https://www.tooplate.com/view/2097-pop
    -->
    <!-- load CSS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300">  <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="css/bootstrap.min.css">                                  <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="fontawesome/css/fontawesome-all.min.css">                <!-- https://fontawesome.com/ -->
    <link rel="stylesheet" type="text/css" href="slick/slick.css"/>                       <!-- http://kenwheeler.github.io/slick/ -->
    <link rel="stylesheet" type="text/css" href="slick/slick-theme.css"/>
    <link rel="stylesheet" href="css/tooplate-style.css">                   
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">            <!-- Templatemo style -->

    <script>document.documentElement.className="js";var supportsCssVars=function(){var e,t=document.createElement("style");return t.innerHTML="root: { --tmp-var: bold; }",document.head.appendChild(t),e=!!(window.CSS&&window.CSS.supports&&window.CSS.supports("font-weight","var(--tmp-var)")),t.parentNode.removeChild(t),e};supportsCssVars()||alert("Please view this in a modern browser such as latest version of Chrome or Microsoft Edge.");</script>

</head>

<body>
    <canvas id="fireworks-canvas"></canvas>
    <div id="tm-bg"></div>
    <div id="tm-wrap">
        <div class="tm-main-content">
            <div class="container tm-site-header-container">
                <div class="row">
                    <div class="col-sm-12 col-md-6 col-lg-6 col-md-col-xl-6 mb-md-0 mb-sm-4 mb-4 tm-site-header-col">
                        <div class="tm-site-header">
                            <h1 class="mb-4">King Royalty free to roam eggs by Matthew</h1>
                            <img src="img/underline.png" class="img-fluid mb-4">
                            <p>Check out our news feature!</p>        
                        </div>                        
                    </div>
                    <div class="col-sm-12 col-md-6 col-lg-6 col-xl-6">
                        <div class="content">
                            <button id="spam-button">Spam Eggsplosion</button>
                            <div class="grid">
                                <div class="grid__item" id="home-link">
                                   <div class="product">
                                        <div class="tm-nav-link">
                                            <i class="fas fa-home fa-3x tm-nav-icon"></i>
                                            <span class="tm-nav-text">Welcome</span>
                                            <div class="product__bg"></div>        
                                        </div>                                    
                                        <div class="product__description">
                                            <div class="row mb-3">
                                                <div class="col-12">
                                                    <h2 class="tm-page-title">Welcome to King Royalty eggs</h2>        
                                                </div>
                                            </div>                                        
                                            <div class="row">
                                                <div class="col-sm-12 col-md-6 col-lg-6 col-xl-6">
                                                    <img src="img/King Royalty banner.jpg" class="img-fluid mb-3">
                                                
                                                    <p>Welcome to King Royalty eggs, where we treat our chickens like royalty. That's why we have 3x the free range required space to legally call it free range!
                                                    Our chickens are raised in a natural environment, with plenty of space to roam and forage. We believe that happy chickens lay the best eggs, and that's why we go above and beyond to ensure their well-being. Our eggs are not only delicious but also packed with essential nutrients, making them a healthy choice for you and your family. We invite you to taste the difference and experience the quality of our free-range eggs. Whether you're a chef, a baker, or simply an egg lover, we guarantee you'll fall in love with our eggs and keep coming back for more!
                                                    </p>    
                                                </div>
                                                <div class="col-sm-12 col-md-6 col-lg-6 col-xl-6">
                                                    <p>So what are you waiting for? Our eggs are astonishingly cheap, at only $8.50! We accept pickup in Donvalr.</p>
                                                    <p>If you have any kind of question or comment, please feel free to <a rel="nofollow" href="mailto:Matthew@andomail.com" target="_parent">contact us via email</a>. You can also leave a response on the Contact page of the site.</p>
                                                    <img src="img/welcome-2.jpg" class="img-fluid">
                                                </div>                                        
                                            </div>
                                            
                                        </div>
                                    </div>
                                </div>

                                <div class="grid__item" id="team-link">
                                    <div class="product">
                                        <div class="tm-nav-link">
                                            <i class="fas fa-newspaper fa-3x tm-nav-icon"></i>
                                            <span class="tm-nav-text">Latest news (1)</span>
                                            <div class="product__bg"></div>            
                                        </div>                                     
                                        <div class="product__description">
                                            <div class="p-sm-4 p-2">
                                                <div class="row mb-3">
                                                    <div class="col-12">
                                                        <h2 class="tm-page-title">Maintenance update</h2>        
                                                    </div>
                                                </div>
                                                <div class="row tm-reverse-sm">
                                                    <div class="col-sm-12 col-md-8 col-lg-8 col-xl-8">
                                                        <p class="mb-4">Hi guys! We‚Äôre announcing the NEWS blog. Here, we‚Äôll display the latest news!
But first, we have to talk.
King Royalty value our customers. That‚Äôs why we‚Äôre currently working on improvements. You may have already noticed our new, fun background, and the News feature! But also, we‚Äôve got heaps of other fixes happening in the background, like fixing our Payment system date/time bugs, fixing color issues across the platform, and working on responsive design to make the site look good on every device. 
Unfortunately, while this is happening, we have to temporarily disable some stuff while we fix them. One of which is that for a short period of time, we‚Äôre going to have to disable cash payments, and payments from other platforms. For a few weeks, we‚Äôll only be allowing Card payments. While this is happening, we‚Äôre working on and later be trialing a cash on pickup OPTION at checkout!
Some other things you can look forward to include a loyalty program, delivery options, rewards, discounts, and more!
So thanks for reading. You‚Äôll find all our latest news here!</p>
                                                      
                                                    </div>                                                
                                                    <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 mb-lg-0 mb-sm-4 mb-4">
                                                        <img src="img/news.jpg" class="img-fluid">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="grid__item">
                                    <div class="product">
                                        <div class="tm-nav-link">
                                            <i class="fas fa-solid fa-handshake fa-3x tm-nav-icon"></i>
                                            <span class="tm-nav-text">Buy eggs from us</span>
                                            <div class="product__bg"></div>             
                                        </div>                                                                 
                                        <div class="product__description">
                                            <div class="p-sm-4 p-2">
                                                <div class="row mb-3">
                                                    <div class="col-12">
                                                        <h2 class="tm-page-title">Buy eggs</h2>        
                                                    </div>
                                                </div>
                                                <div class="row mb-3">
                                                    <div class="col-12">
                                                        
                                                        <p>Buy local, free range eggs. Simply click the "Complete your purchase" button below to complete your purchase. All purchases are secure and are handled by Square.</p>
                                                        <p>We might be experiencing stock issues.</p>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-12">
                                                        <div class="p-sm-4 p-2 tm-img-container">
                                                            <script async
  src="https://js.stripe.com/v3/buy-button.js">
</script>

<stripe-buy-button
  buy-button-id="buy_btn_1Rz3foKPvBM0Ul88HqNgZdRe"
  publishable-key="pk_live_51MSul8KPvBM0Ul88ZgBQE2YyK1mUPFgZ4H42nR8TG9NJn1PbX1eJpI28Or0nlEl7aRctpho9Ps1vkVt0uKjkzgMk00HSYd76FY"
>
</stripe-buy-button>
                                                                </div>
                                                            </div>
                                                        </div>  
                                                    </div>
                                                </div>
                                            </div>
                                        </div>       
                                    </div>
                                </div>

                                <div class="grid__item">
                                    <div class="product">
                                        <div class="tm-nav-link">
                                            <i class="fas fa-comments fa-3x tm-nav-icon"></i>
                                            <span class="tm-nav-text">Contact</span>
                                            <div class="product__bg"></div>             
                                        </div> 
                                        <div class="product__description">
                                            <div class="pt-sm-4 pb-sm-4 pl-sm-5 pr-sm-5 pt-2 pb-2 pl-3 pr-3">
                                                <div class="row mb-3">
                                                    <div class="col-12">
                                                        <h2 class="tm-page-title">Contact Us</h2>
                                                    <p>News update availible!</p>                
                                                    </div>
                                                </div>
                                                <div class="row mb-4">
                                                    <div class="col-12">                                        
                                        <!-- <script>window.enableEventObserver=true</script> -->

                                    </div>
                                </div>
                            </div> 
                        </div>                       
                    </div>
                </div>                
            </div>
        </div> <!-- .tm-main-content -->  
    </div>
    <footer>
        <p class="small tm-copyright-text">Copyright &copy; <span class="tm-current-year">2020</span> King Royalty Eggs</p>
    </footer>
    <!-- load JS -->
    <script src="js/jquery-3.2.1.slim.min.js"></script>         <!-- https://jquery.com/ -->    
    <script src="slick/slick.min.js"></script>                  <!-- http://kenwheeler.github.io/slick/ -->  
    <script src="js/anime.min.js"></script>                     <!-- http://animejs.com/ -->
    <script src="js/main.js"></script>  
    <script>       
        function setupFooter() {
            var pageHeight = $('.tm-site-header-container').height() + $('footer').height() + 100;
            var main = $('.tm-main-content');
            if($(window).height() < pageHeight) {
                main.addClass('tm-footer-relative');
            }
            else {
                main.removeClass('tm-footer-relative');   
            }
        }
        /* DOM is ready
        ------------------------------------------------*/
        $(function(){
            setupFooter();
            $(window).resize(function(){
                setupFooter();
            });
            $('.tm-current-year').text(new Date().getFullYear());  // Update year in copyright           
        });
    </script>
    <script>
        // Contact form handler (only if form exists)
        const form = document.querySelector('form');
        if (form) {
            form.addEventListener('submit', function submitForm(event) {
                event.preventDefault();
                const formData = new FormData(event.target);
                const name = formData.get('name');
                const email = formData.get('email');
                const message = formData.get('message');
                const data = {
                    name,
                    email,
                    message,
                    timestamp: new Date().toISOString()
                };
                // Send the data to Google Sheets
                fetch('https://script.google.com/macros/s/<SCRIPT_ID>/exec', {
                    method: 'POST',
                    mode: 'no-cors',
                    body: JSON.stringify(data)
                })
                .then(response => console.log('Form data sent to Google Sheets'))
                .catch(error => console.error(error));
                return false;
            });
        }
    </script>
    <script>
        // Get the canvas and its 2D rendering context
        const canvas = document.getElementById('fireworks-canvas');
        const ctx = canvas.getContext('2d');

        // Set canvas dimensions to fill the window
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();

        // Arrays to store all game objects
        let chickens = [];
        let fallingEggs = [];
        let particles = [];
        let animationFrame = 0;

        // --- Helper Functions ---
        function random(min, max) {
            return Math.random() * (max - min) + min;
        }

        function calculateDistance(p1x, p1y, p2x, p2y) {
            const xDistance = p1x - p2x;
            const yDistance = p1y - p2y;
            return Math.sqrt(Math.pow(xDistance, 2) + Math.pow(yDistance, 2));
        }

        // --- Chicken Class ---
        class Chicken {
            constructor(startX, startY, endX, endY) {
                this.x = startX;
                this.y = startY;
                this.startX = startX;
                this.startY = startY;
                this.endX = endX;
                this.endY = endY;
                this.distanceToEnd = calculateDistance(startX, startY, endX, endY);
                this.distanceTraveled = 0;
                this.angle = Math.atan2(endY - startY, endX - startX);
                this.speed = random(2, 4);
                this.wobbleSpeed = random(0.05, 0.1);
            }

            update() {
                const vx = Math.cos(this.angle) * this.speed;
                const vy = Math.sin(this.angle) * this.speed;
                this.distanceTraveled = calculateDistance(this.startX, this.startY, this.x + vx, this.y + vy);

                // When the chicken reaches its destination, it drops an egg
                if (this.distanceTraveled >= this.distanceToEnd) {
                    fallingEggs.push(new FallingEgg(this.endX, this.endY));
                    chickens.splice(chickens.indexOf(this), 1);
                } else {
                    this.x += vx;
                    this.y += vy;
                }
            }

            draw() {
                ctx.save();
                const wobbleX = Math.cos(animationFrame * this.wobbleSpeed) * 10;
                const wobbleY = Math.sin(animationFrame * this.wobbleSpeed) * 10;
                ctx.translate(this.x + wobbleX, this.y + wobbleY);
                ctx.rotate(this.angle + Math.PI / 2);
                ctx.font = '30px serif';
                ctx.textAlign = 'center';
                ctx.fillText('üêî', 0, 0);
                ctx.restore();
            }
        }

        // --- FallingEgg Class ---
        class FallingEgg {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.vy = 0; // Vertical velocity
                this.gravity = 0.4;
                this.life = 25; // Frames to fall before breaking
            }

            update() {
                this.life--;
                this.y += this.vy;
                this.vy += this.gravity;

                // When the egg's life is over, it explodes
                if (this.life <= 0) {
                    createEggExplosion(this.x, this.y);
                    fallingEggs.splice(fallingEggs.indexOf(this), 1);
                }
            }

            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.font = '25px serif';
                ctx.textAlign = 'center';
                ctx.fillText('ü•ö', 0, 0);
                ctx.restore();
            }
        }

        // --- Particle Class (for yolk, white, and shell) ---
        class Particle {
            constructor(x, y, type) {
                this.x = x;
                this.y = y;
                this.type = type;
                this.angle = random(0, Math.PI * 2);
                this.speed = random(1, 10);
                this.gravity = 0.5;
                this.alpha = 1;

                // Customize particles based on their type
                switch (this.type) {
                    case 'yolk':
                        this.friction = 0.97;
                        this.color = `hsl(${random(40, 60)}, 100%, ${random(50, 80)}%)`;
                        this.size = random(3, 6);
                        this.decay = random(0.01, 0.02);
                        break;
                    case 'white':
                        this.friction = 0.98; // Gooier
                        this.color = `hsla(0, 0%, 100%, ${random(0.3, 0.6)})`;
                        this.size = random(4, 8);
                        this.decay = random(0.01, 0.015);
                        break;
                    case 'shell':
                        this.friction = 0.95; // Less friction
                        this.color = `hsl(35, 20%, ${random(70, 85)}%)`;
                        this.size = random(1, 3);
                        this.gravity = 0.8; // Heavier
                        this.decay = random(0.02, 0.03);
                        break;
                }
            }

            update() {
                this.speed *= this.friction;
                this.x += Math.cos(this.angle) * this.speed;
                this.y += Math.sin(this.angle) * this.speed + this.gravity;
                this.alpha -= this.decay;

                if (this.alpha <= this.decay) {
                    particles.splice(particles.indexOf(this), 1);
                }
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.alpha;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);
                ctx.fillStyle = this.color;
                ctx.fill();
                ctx.restore();
            }
        }

        // --- Create Egg Explosion ---
        function createEggExplosion(x, y) {
            const particleCount = 200; // More particles for a bigger mess
            for (let i = 0; i < particleCount; i++) {
                const rand = Math.random();
                let type;
                if (rand < 0.5) {
                    type = 'yolk';
                } else if (rand < 0.9) {
                    type = 'white';
                } else {
                    type = 'shell';
                }
                particles.push(new Particle(x, y, type));
            }
        }

        // --- Animation Loop ---
        function animate() {
            requestAnimationFrame(animate);
            animationFrame++;

            ctx.fillStyle = 'rgba(135, 206, 235, 0.3)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            [chickens, fallingEggs, particles].forEach(arr => 
                arr.forEach(item => {
                    item.update();
                    item.draw();
                })
            );
        }

        function spawnChicken(endX, endY) {
            const side = Math.floor(random(0, 2));
            const startX = side === 0 ? -50 : canvas.width + 50;
            const startY = random(0, canvas.height);
            chickens.push(new Chicken(startX, startY, endX, endY));
        }

        // --- Event Listeners ---
        window.addEventListener('click', e => {
            // Prevent spam button click from also spawning a single chicken
            if (e.target.id === 'spam-button') return;
            spawnChicken(e.clientX, e.clientY);
        });
        
        // Add the spam button functionality
        const spamButton = document.getElementById('spam-button');
        if (spamButton) {
            spamButton.addEventListener('click', () => {
                for (let i = 0; i < 70; i++) {
                    const x = random(0, canvas.width);
                    const y = random(0, canvas.height);
                    // Directly create a falling egg at a random location
                    fallingEggs.push(new FallingEgg(x, y));
                }
            });
        }

        // Automatically spawn chickens
        setInterval(() => {
            const endX = random(0, canvas.width);
            const endY = random(0, canvas.height);
            spawnChicken(endX, endY);
        }, 3000);

        window.addEventListener('resize', resizeCanvas);

        animate();
    </script>
</body>
</html>